module me.fornever.fgitterc.Application where

import me.fornever.fgitterc.IrcListener
import me.fornever.fgitterc.PircBotX

main :: [String] -> IO ()
main _ = do
  let listener = createListener $ \event -> putStrLn $ show event
  let configuration = ST.run $ ConfigurationBuilder.new >> ConfigurationBuilder.buildConfiguration
  let bot = PircBotX.new configuration
  result <- bot.startBot ()
  case result of
    (Left error) -> putStrLn $ show error
    _ -> return ()
